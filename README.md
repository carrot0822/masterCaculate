### 后端管理系统简要说明
### 项目安装
1. 请确认自己安装了Node环境与git环境
2. git clone本仓库
3. npm install 安装相关依赖 
4. npm run dev 启动即可
### 项目架构
+ 基础架构：Vue全家桶 + elementUI + axios + scss
+ 业务插件：
    1. websocket对接rfid扫描
    2. 对接温控数据(未实现)
+ 非业务插件：
    1. 富文本(quill-editor) 
    2. 监控/视频播放(videoJs) 
    3. 头像裁剪 (vue-image-crop-upload)
    4. 图片上传(element自带)
    5. 弹框(vue-carousel-3d)
    6. 轮播(3d-raduis)
    7. 图表(echarts)
### 文件架构(由于早期历史原因导致的混乱结构)
+ src
    1. assets:初始预设的图片存放文件 内有首页用各类图标
    2. base: 静态文件存放 如css之类的文件
    3. common：非业务组件 可直接移植的模块
    4. component： 业务组件
    5. request：请求与接口管理文件夹
    6. router： 路由管理
    7. store： 状态管理 主要用于管理用户登录态与
    8. z-tree：由于早期树形结构并未采用自封的递归树形组件

+ static 静态文件 
1. 包含监控相关的videoJs框架相关 请确保所有文件都在同一个文件夹内，
2. config为外置的配置环境文件夹 方便测试与运维更改 
3. test为测试性能用js 未来可能会移除 上线则不需要

### 功能说明(非业务)
#### 1.权限管理（power文件夹）
+ 用户管理 角色管理 登录记录 最基础的增删查改 角色管理包含Z-tree树组件的使用
+ 注意对于前端的权限控制来说 其实是路由的权限和请求的权限 需要写拦截器 利用token来控制访问路由 利用token来控制访问接口

#### 2.系统设置 ()
+ 系统公告： 与opac和管理端相连 注意权限目前是分为管理端 用户端 以及管理和用户端均可看到的情形
+ 系统设置： 使用了store来全局动态更新图标 后续可能会加上换肤
+ 备份管理： 上传文件需要注意服务器上传限制大小

### 功能说明（业务系统层）除开表面功能 多数是配合后端的业务逻辑

#### 资料管理模块
0. 书籍/期刊上架流程 采购--->编目--->典藏---->绑定rfid---->盘点--->上架
1. 书籍管理
+ 按着流程并没什么需要注意的 大概是支持excel的导入把 但压力依旧是在后端方
2. 期刊管理
+  期刊的编目首先需要设立期刊号 而不是像书籍那样直接录入就可以了 录入了期刊号才可以在后续的过刊合订内生效
+ 过刊合订会合订典藏里的书籍 合并过后会产生新的期刊 原有的期刊会消失(北创)

3. 数据字典
+ 设置关于书籍馆藏地 办卡机等各种参数

#### 流通管理模块
+ 书籍借阅归还报损逾期将产生对应的记录，在书籍借阅这块由于与rfid扫描设备对接应该多多小心服务是否正常运行 再就是elementUI的button回车确认有时会出现问题 这里需要注意
+ 预约管理的业务流程：需要在书借出去之后才可以预约 等到书还回来后预约会生效 在生效中有一定的保护时间 由这个时间是否拿书来确定预约成功还是失败

#### 读者管理模块
+ 业务顺序 在添加读者之前需要设定好读者卡等级的各类权限 才能添加读者
+ 需要确认的是 对于读者端OPAC端的设计并不完善 由于缺少短信 邮箱验证等功能 对这些功能还未完善

#### 财务管理模块(Finance文件)
1. 充值管理 注销记录 对接的是读者卡对应的充值注销记录
2. 订单记录 异常订单记录 对接的是自助办卡机的数据
3. 逾期费用记录 则是对应的逾期流程产生的费用
+ 这里需要注意的是 记录都含有导出为excel的功能

#### 漂流柜端（SmallLib）
1. 上传封面
2. 典藏管理 
3. 监控管理
+ 可能后期会加上回放与截图等各类功能 目前监控只有一个切换功能

#### 小程序端
1. 公告是富文本转编译的问题 采用的方案为wxParse
2. 内外链跳转 外链需要验证和webview 通用做法是带参数跳到对应的组件
3. 关于onShow这种运行在后台 再回来执行函数可以捏造一个变量来判定

#### 数据可视化端
1. 书籍推荐：框架为3d-caruse
2. 馆内视频：视频上传 这里需要获取大小和时长 靠上传的视频数据可以计算出
3. 馆内公告：字数需要做限制 在修改了比例尺寸后 滚动条的功能开始失效 很迷 大屏主要是考虑兼容性的问题
